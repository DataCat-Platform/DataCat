<p-panel
  header="Dashboards list"
  [style]="{ display: 'block', height: '100%' }"
>
  <p-divider />

  <!-- Filters. -->
  <div class="filter-container">
    <div class="checkbox">
      <p-checkbox inputId="starred" name="pizza" value="Cheese" />
      <label for="starred">Starred</label>
    </div>
  </div>

  <p-divider />

  <!-- Labels. -->
  <div class="filter-container">
    @for (tag of dashboardsExploreService.filter.tags; track $index) {
      <div>
        <p-input-group
          class="label"
          [dt]="{ addon: { padding: '{padding.xs} {padding.sm}' } }"
        >
          <input
            pInputText
            type="text"
            placeholder="key"
            [(ngModel)]="dashboardsExploreService.filter.tags[$index]"
          />
          <p-inputgroup-addon class="label">=</p-inputgroup-addon>
          <input
            pInputText
            type="text"
            placeholder="value"
            [(ngModel)]="dashboardsExploreService.filter.tags[$index]"
          />
          <p-button
            icon="pi pi-times"
            severity="secondary"
            variant="outlined"
            (onClick)="dashboardsExploreService.removeLabelByIndex($index)"
            size="small"
          />
        </p-input-group>
      </div>
    }
    <p-button
      icon="pi pi-plus"
      severity="secondary"
      (onClick)="dashboardsExploreService.addEmptyLabel()"
      label="Label"
      size="small"
    />
  </div>

  <p-divider />

  <!-- Dashboards table. -->
  <p-table
    [value]="(dashboardsExploreService.dashboards$ | async) || []"
    stripedRows
    [paginator]="true"
    [rows]="5"
    [rowsPerPageOptions]="[5, 10, 20]"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Owner</th>
        <th>Last Updated At</th>
        <th style="width: 4rem"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-dashboard>
      <tr>
        <td>{{ dashboard.id }}</td>
        <td>{{ dashboard.name }}</td>
        <td>{{ dashboard.description }}</td>
        <td>{{ dashboard.ownerId }}</td>
        <td>{{ dashboard.lastUpdatedAt | date: 'short' }}</td>
        <td class="row-actions">
          <p-button
            icon="pi pi-star"
            severity="secondary"
            rounded
            [text]="true"
            (onClick)="toggleStarred(dashboard.id)"
          />
          <p-button
            icon="pi pi-arrow-up-right"
            severity="secondary"
            rounded
            [text]="true"
            (onClick)="viewDashboard(dashboard.id)"
          />
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>
