<div class="logs-table-container">
    <p-table (onPage)="onPageChange($event)"
             [first]="(pagination.page - 1) * pagination.pageSize"
             [paginator]="true"
             [rows]="pagination.pageSize"
             [totalRecords]="pagination.totalCount"
             [value]="logs"
             styleClass="p-datatable-sm">
        <!-- Остальная часть шаблона без изменений -->
        <ng-template pTemplate="header">
            <tr>
                <th (click)="onSort('timestamp')">
                    Timestamp
                    <i *ngIf="currentSortField === 'timestamp'" [class.pi-sort-alpha-up]="sortAscending"
                       [class.pi-sort-amount-down]="!sortAscending"
                       class="pi"></i>
                </th>
                <th (click)="onSort('severity')">
                    Severity
                    <i *ngIf="currentSortField === 'severity'" [class.pi-sort-alpha-down]="!sortAscending"
                       [class.pi-sort-alpha-up]="sortAscending"
                       class="pi"></i>
                </th>
                <th (click)="onSort('serviceName')">
                    Service
                    <i *ngIf="currentSortField === 'serviceName'" [class.pi-sort-alpha-down]="!sortAscending"
                       [class.pi-sort-alpha-up]="sortAscending"
                       class="pi"></i>
                </th>
                <th>Message</th>
                <th>Trace ID</th>
                <th *ngFor="let key of getAdditionalFields()">{{ key }}</th>
            </tr>
        </ng-template>
        <ng-template let-log pTemplate="body">
            <tr>
                <td>{{ log.timestamp | date : 'medium' }}</td>
                <td>
                    <p-tag [severity]="getSeverityClass(log.severity)"
                           [value]="log.severity"></p-tag>
                </td>
                <td>{{ log.serviceName }}</td>
                <td class="message-cell">{{ log.message }}</td>
                <td>{{ log.traceId }}</td>
                <td *ngFor="let key of getAdditionalFields()">
                    {{ log.additionalFields?.[key] || '-' }}
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
